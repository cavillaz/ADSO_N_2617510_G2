<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mi página</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="../APCR/reporte_parqueaderos.css">
</head> 
<body>
  <!-- Agrega aquí el código HTML -->

  <div class="menu" aria-labelledby="menu-button">

    <ul class="menu-list" id="menu-list" role="menu">
      <button class="menu-button" title="Menú" id="menu-button" aria-expanded="false" aria-controls="menu-list">Menú<i class="material-icons">list</i></button>
      <li><a class="tipo_boton" title="Administrar zonas" href="../APCR/adminzonas.html" role="menuitem">Administrar zonas<i class="material-icons" >directions_car</i></a>
      <li><a class="tipo_boton" title="Mensajeria y pagos"  href="../APCR/admin_mens_pag.html" role="menuitem">Mensajeria y pagos<i class="material-icons">sms</i></a>
      <li><a class="tipo_boton" title="Reportes" href="../APCR/modulo_admin_report.html" role="menuitem">Reportes<i class="material-icons">request_page</i></a>
      <li><a class="tipo_boton" title="Administración usuarios" href="../APCR/asdministrador_usuario.html" role="menuitem">Administración usuarios<i class="material-icons">person</i></a>
      <li><a class="tipo_boton" title="Salir" href="index.html" role="menuitem">Salir<i class="material-icons">exit_to_app</i></a></li>
      <li>
        <img class="logo" src="../APCR/img/logoapcr.png" alt="" >
      </li>
    </ul>
  </div>
  <div class="informacion">
    <h1>Reportes de Parqueaderos</h1>
    <div class="contenido">
      <img src="../APCR/img/coche-estacionado.png" alt="" class="imagen">
      <p>En este epacio como vigilante podra revisar la <br>la asignacion 
        de los parqueaderos y generar reporte de <br>
        los mismos.
      </p>
    </div>
  </div>
  

  <section id="layout-iconos">
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon1">directions_car</span>
        <p>001</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon2">directions_car</span>
    <p>002</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon3">directions_car</span>
      <p>003</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon4">directions_car</span>
      <p>004</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon5">directions_car</span>
      <p>005</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon6">directions_car</span>
      <p>006</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon7">directions_car</span>
      <p>007</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon8">directions_car</span>
      <p>008</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon9">directions_car</span>
      <p>009</p>
    </div>
    <div class="caja red">
    <span class="material-symbols-outlined" id="icon10">directions_car</span>
    <p>010</p>
    </div>
    <div class="caja red">
    <span class="material-symbols-outlined" id="icon11">directions_car</span>
    <p>011</p>
    </div>
    <div class="caja red">
    <span class="material-symbols-outlined" id="icon12">directions_car</span>
    <p>012</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon13">directions_car</span>
      <p>013</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon14">directions_car</span>
      <p>014</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon15">directions_car</span>
      <p>015</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon16">directions_car</span>
      <p>016</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon17">directions_car</span>
      <p>017</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon18">directions_car</span>
      <p>018</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon19">directions_car</span>
      <p>019</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon20">directions_car</span>
      <p>020</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon21">directions_car</span>
      <p>021</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon22">directions_car</span>
      <p>022</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon23">directions_car</span>
      <p>023</p>
    </div>
    <div class="caja red">
      <span class="material-symbols-outlined" id="icon24">directions_car</span>
      <p>024</p>
    </div>
  </section>
  <section>
    <div class="caja certpago">
      <a id="mostrarVentana"><img src="../APCR/img/certificado_pago.png" alt=""></a><br>
      <a class="certpago-enlace">Generar Reporte</a> 
    </div>
    </div>
  </section>
  <div id="ventana" class="ventana">
    <div>
        <span class="cerrar" id="cerrarVentana">&times;</span>
        <div class="contenido">
          <img src="../APCR/img/info-logo.png" alt="" class="imagen">
        </div>
        
        <h2>Escoja la fecha que desea generar en el reporte y tipo de consulta que desea hacer.</h2>
            <label for="fechaDesde">Fecha de Desde:</label>
            <input type="date" id="fechaDesde" name="fechaDesde" required size="20"><br><br>
    
            <label for="fechaHasta">Fecha de Hasta:</label>
            <input type="date" id="fechaHasta" name="fechaHasta" required><br><br>
    
            <label for="horaInicio">Hora de Inicio:</label>
            <input type="time" id="horaInicio" name="horaInicio" required><br><br>
    
            <label for="horaFin">Hora de Fin:</label>
            <input type="time" id="horaFin" name="horaFin" required><br><br>

            <label for="xlsxFormat">
              <input type="checkbox" id="xlsxFormat" value="xlsx">CSV
          </label>
          <label for="pdfFormat">
              <input type="checkbox" id="pdfFormat" value="pdf">PDF
          </label><br><br>

            <div class="button-container">
              <button onclick="descargarArchivos()">Generar Reporte</button>
          </div>
    </body>
    </html>
    </div>
</div>
  


  <footer>
    <div class="footer">
      <h1>
        Realizado por SOFTNERD todos los derechos reservados &copy;
      </h1>
    </div>
  </footer>

  <script>
    var menuButton = document.querySelector('.menu-button');
    var menu = document.querySelector('.menu');
    var menuList = document.querySelector('.menu-list');

    menuButton.addEventListener('click', function() {
      var expanded = menuButton.getAttribute('aria-expanded') === 'true' || false;
      menuButton.setAttribute('aria-expanded', !expanded);
      menu.classList.toggle('open');
      if (menu.classList.contains('open')) {
        menuList.querySelector('a').focus();
      }
    });

    menuList.addEventListener('keydown', function(event) {
      var firstItem = menuList.querySelector('a');
      var lastItem = menuList.querySelectorAll('a')[menuList.querySelectorAll('a').length - 1];
      var currentElement = event.target;
      switch (event.keyCode) {
        case 27: // Escape
          menuButton.focus();
          menuButton.setAttribute('aria-expanded', 'false');
          menu.classList.remove('open');
          break;
        case 37: // Left arrow
          if (currentElement === firstItem) {
            lastItem.focus();
          } else {
            currentElement.previousElementSibling.focus();
          }
          break;
        case 39: // Right arrow
          if (currentElement === lastItem) {
            firstItem.focus();
          } else {
            currentElement.nextElementSibling.focus();
          }
          break;
      }
    });
        // Funcion de ventana emergente
        const mostrarVentana = document.getElementById("mostrarVentana");
        const cerrarVentana = document.getElementById("cerrarVentana");
        const ventana = document.getElementById("ventana");

        mostrarVentana.addEventListener("click", function () {
            ventana.style.display = "block";
        });

        cerrarVentana.addEventListener("click", function () {
            ventana.style.display = "none";
        });

      // Funcion Descargar archivos en PDF O XLSX
      function descargarArchivos() {
        const selectedFormats = [];

        if (document.getElementById('xlsxFormat').checked) {
            selectedFormats.push('XLSX');
        }

        if (document.getElementById('pdfFormat').checked) {
            selectedFormats.push('PDF');
        }

        if (selectedFormats.length === 0) {
            alert('Selecciona al menos un formato de archivo para descargar.');
            return;
        }

        selectedFormats.forEach(format => {
            const link = document.createElement('a');
            link.href = `docs/reportes/${format}_file.${format.toLowerCase()}`;
            link.download = `archivo.${format.toLowerCase()}`;
            link.style.display = 'none';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        });
    }

  </script>
</body>
</html>
